capsule-switch {
  display: inline-flex;
  align-items: center;
  gap: var(--capsule-margin-sm);
  cursor: pointer;
  user-select: none;
  outline: none;
}

capsule-switch[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Ripples container */
capsule-switch::part(ripples) {
  background-color: var(--capsule-ripple-bg);
  border-radius: var(--capsule-radius-full);
  transition: var(--capsule-transition-slow);
  transform: scale(2);
}

/* Switch track */
capsule-switch::part(track) {
  position: relative;
  width: 36px;
  height: 20px;
  background: var(--capsule-color-outline-border);
  border-radius: var(--capsule-radius-full);
  transition: var(--capsule-transition);
  overflow: hidden;
}

capsule-switch[checked]::part(track) {
  background: var(--capsule-color-primary);
}

capsule-switch:hover:not([disabled])::part(track) {
  background: var(--capsule-color-text-secondary);
}

capsule-switch[checked]:hover:not([disabled])::part(track) {
  background: var(--capsule-color-primary-hover);
}

/* Switch thumb */
capsule-switch::part(thumb) {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  box-shadow: var(--capsule-shadow-sm);
  transition: var(--capsule-transition);
  transform: translateX(0);
}

capsule-switch[checked]::part(thumb) {
  transform: translateX(16px);
}

/* Surface thumb */
capsule-switch::part(surface) {
  background: var(--capsule-color-white);
  border-radius: var(--capsule-radius-full);
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 1;
}

/* Sizes */
capsule-switch[size='sm']::part(track) {
  width: 28px;
  height: 16px;
}

capsule-switch[size='sm']::part(thumb) {
  width: 12px;
  height: 12px;
}

capsule-switch[size='sm'][checked]::part(thumb) {
  transform: translateX(12px);
}

capsule-switch[size='lg']::part(track) {
  width: 44px;
  height: 24px;
}

capsule-switch[size='lg']::part(thumb) {
  width: 20px;
  height: 20px;
}

capsule-switch[size='lg'][checked]::part(thumb) {
  transform: translateX(20px);
}
